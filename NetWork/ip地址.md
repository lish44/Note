# ip
--------
### 地址组成
00000000 00000000 00000000 00000000
+ 32位 2进制
+ 8位占一个段
+ 一个段就是 <font color=#f4433c>1字节</font> 转成 <font color=#4285f4>十进制</font> 就是 255

11111111 11111111 11111111 11111111
+ 转成 __十进制__ 就是 255 255 255 255
+ 地址总量为 2^32 个 == 4294967295个 大约42.9亿个
+ 除开保留地址和私有地址 能用的大约只有只有36.47亿个
+ [https://www.bilibili.com/video/BV1DD4y127r4?from=search&seid=12967616809062688422](https://www.bilibili.com/video/BV1DD4y127r4?from=search&seid=12967616809062688422) 
  

### 地址分类
#### 总分类


#### 私有
+ A：10.0.0.0    - 10.255.255.255
+ B：172.16.0.0  - 172.31.255.255
+ C：192.168.0.0 - 192.168.255.255

c类地址都是24位网络加8位主机

### 子网掩码
> 就是把ip地址划分成网络地址和主机地址两部分，同子网发送不需要过网关

#### 掩码位简写
__/24__ 就是指 __11111111.11111111.11111111.00000000__ 
+ 可以分配 __2^8__ 的主机位，减去保留的2个 可以用的就是 __2^8 - 2__ 个 就是<font color=#f4433c>254</font> 个主机位

__/25__ 就是指 __11111111.11111111.11111111.10000000__ 
+ 就是 __2^7 - 2__ 等于 <font color=#f4433c>126</font> 个主机位
+ 其实就是2^(32-25) - 2，32位占了25个网络位，剩到的就是主机位

以此类推做多就是 __/30__ 4个主机位 去掉保留 剩2个  

### Ex:
__192.168.0.1 - 255.255.255.0 - /24__
+ 就是前3个字节为网络位，最后一个字节是主机地址 可以分 254 个

__192.168.0.1/26__
+ 就是前3个字节加后两位一共26位是网络位，最后剩6位是主机地址 可以分 62 个

在运营商申请时一般会给 __255.255.255.252__ 的子网掩码，转成二进制就是 __11111111.11111111.11111111.11111100__ 就是说只有4个主机位去掉保留位和广播位只有2个地址，正好就是一个网关，一个主机

#### 借位
C类子网掩码借2位，本来是 255.255.255.0 => 11111111.11111111.11111111.00000000，借2位后是11111111.11111111.11111111.11000000，也就是 255.255.255.192
+ 192 就是（128+64）算出来的 因为最高是1 也就是128 第二位也是1 也就是64 
+ 简写就是 __/26__ <++>

### NAT技术
> 为了结局ip地址不够用 ，把私网ip转成公网ip的技术

### 交换机
> 可以理解为充当网线的作用，连接多个网卡。工作在二层 数据链路层
![交换机连接示意图](https://gitee.com/rehma/pic/raw/master/res/20210808174201.png)

交换机维护了一张 MAC 地址表，把交换机的端口和机器的mac地址进行了映射和维护，需要发数据包的时候直接查就找到了
![交换机发送示意图](https://gitee.com/rehma/pic/raw/master/res/20210808174557.png)


+ 因为后面四位主机号加起来是15 （1111）二进制转十进制，一共255 - 15 = 240，又因为减去了第一位128 所以是 112

